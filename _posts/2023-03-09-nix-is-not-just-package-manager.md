---
layout: post
date: 2023-03-09 19:00:00+03:00
title: "Nix — не только пакетный менеджер"
excerpt: "Воркшоп Винсента Амбо."
image: "https://user-images.githubusercontent.com/10639110/224563654-e779f1a9-d958-4e3e-a65b-4edae3292919.png"
videos:
  - "https://www.youtube.com/embed/0Lhahzs-Wos"
---

Первый пакетный менеджер — SMIT — появился в операционной системе IBM AIX в 1989 году. Мы бы назвали его примитивным, но в своё время он оказался прорывом. Вместо загрузки и ручной сборки исходного кода программы, пользователь вводил команду установки — и всё.

Чуть позже пакетные менеджеры стали поддерживать зависимости между пакетами, и репозитории, где пакеты хранились.

Сейчас нам известны десятки менеджеров, которые работают как на уровне операционной системы (yum, pacman, dpkg, apt), так и на уровне отдельных языков/платформ (npm, pip, composer, nuget). Казалось бы: их и так много, зачем нужен ещё один?

Оказывается, [Nix](https://en.wikipedia.org/wiki/Nix_(package_manager)) решает одну из важнейший проблем, появившихся у пакетных менеджеров вместе с поддержкой зависимостей, которая называется [Ад Зависимостей (Dependency Hell)](https://en.wikipedia.org/wiki/Dependency_hell). Дело в том, что пакеты со временем меняются: программисты исправляют ошибки, добавляют новые возможности, а из-за этого растут и версии пакетов. Не всегда удаётся сохранить обратную совместимость, так что мы не можем просто хранить самую последнюю версию пакета. Нам приходиться хранить все, но разные версии пакета называются одинаково и зачастую размещаются в одном и том же каталоге.

Разработчики Nix предложили интересное решение этой проблемы, которое не просто позволяет забыть про Ад Зависимостей, но даже защищает систему от случайных коллизий. Описание пакетов в Nix делается на чистом функциональном языке программирования. Зачем?

Об этом и многом другом нам рассказал программист Винсент Амбо. Он провёл воркшоп по Nix и показал примеры использования языка. Пакетный менеджер Nix работает на любых дистрибутивах Linux и на MacOS, но также на его основе построен дистрибутив [NixOS](https://nixos.org/). Мы поговорили и о нём, правда, совсем немного.

Винсент основал [комьюнити](https://tvl.fyi) и [компанию](https://tvl.su/ru) TVL и разрабатывает альтернативную реализацию Nix — она называется [Tvix](https://tvl.fyi/blog/rewriting-nix). Tvix написан на языке Rust — интересном и перспективным. Мы поговорили, зачем нужен Tvix, если есть Nix и узнали, почему Винсент выбрал Rust в качестве языка разработки.
